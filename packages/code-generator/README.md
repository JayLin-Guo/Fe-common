# @jr/code-generator

> Jrä»£ç è‡ªåŠ¨ç”Ÿæˆå·¥å…·é›† - é›†æˆç°æœ‰è„šæœ¬ï¼Œç»Ÿä¸€ç®¡ç†ä»£ç ç”Ÿæˆ

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§

- âœ… **ç»Ÿä¸€CLIå…¥å£**ï¼š`jr-generate` å‘½ä»¤ç®¡ç†æ‰€æœ‰ç”Ÿæˆå·¥å…·
- âœ… **ç°æœ‰è„šæœ¬é›†æˆ**ï¼šæ— ç¼é›†æˆä½ çš„ `generateBaseStyle.js` ç­‰ç°æœ‰å·¥å…·
- âœ… **äº¤äº’å¼ç•Œé¢**ï¼šå‹å¥½çš„å‘½ä»¤è¡Œäº¤äº’ä½“éªŒ
- âœ… **æ’ä»¶åŒ–æ¶æ„**ï¼šè½»æ¾æ‰©å±•æ–°çš„ç”Ÿæˆå™¨
- âœ… **TypeScriptæ”¯æŒ**ï¼šå®Œæ•´çš„ç±»å‹å®‰å…¨

## ğŸ“¦ å®‰è£…

```bash
# å…¨å±€å®‰è£…
npm install -g @jr/code-generator

# æˆ–é¡¹ç›®å†…ä½¿ç”¨
npx @jr/code-generator
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„ç”Ÿæˆå™¨

```bash
jr-generate list
```

### ç”ŸæˆåŸºç¡€æ ·å¼æ–‡ä»¶

```bash
# ä½¿ç”¨äº¤äº’å¼ç•Œé¢
jr-generate base-style

# ç›´æ¥æŒ‡å®šå‚æ•°
jr-generate base-style --output ./src/styles --prefix jr
```

### ç”ŸæˆVue3ç»„ä»¶

```bash
# ç”Ÿæˆç»„ä»¶
jr-generate component MyButton

# æŒ‡å®šè¾“å‡ºç›®å½•
jr-generate component MyCard --output ./src/components
```

## ğŸ”§ ç°æœ‰å·¥å…·é›†æˆ

å¦‚æœä½ æœ‰ç°æœ‰çš„ç”Ÿæˆè„šæœ¬ï¼ˆå¦‚ `generateBaseStyle.js`ï¼‰ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å¿«é€Ÿé›†æˆï¼š

### æ–¹å¼1ï¼šè„šæœ¬åŒ…è£…ï¼ˆæ¨èï¼‰

```bash
# 1. å¤åˆ¶ç°æœ‰è„šæœ¬
mkdir -p packages/code-generator/scripts
cp your-script.js packages/code-generator/scripts/

# 2. ä½¿ç”¨åŒ…è£…å™¨
jr-generate your-script-name
```

### æ–¹å¼2ï¼šä»£ç é‡æ„

å°†ç°æœ‰JavaScriptè„šæœ¬é‡æ„ä¸ºTypeScriptç±»ï¼Œè·å¾—æ›´å¥½çš„ç±»å‹å®‰å…¨å’Œç»´æŠ¤æ€§ã€‚

è¯¦ç»†æ­¥éª¤è¯·å‚è€ƒï¼š[è¿ç§»æŒ‡å—](./MIGRATION_GUIDE.md)

## ğŸ“‹ å¯ç”¨ç”Ÿæˆå™¨

| ç”Ÿæˆå™¨ | å‘½ä»¤ | æè¿° |
|--------|------|------|
| åŸºç¡€æ ·å¼ | `base-style` | ç”Ÿæˆé¡¹ç›®åŸºç¡€CSSæ ·å¼æ–‡ä»¶ |
| Vue3ç»„ä»¶ | `component [name]` | ç”Ÿæˆæ ‡å‡†Vue3ç»„ä»¶ç»“æ„ |
| ç°æœ‰è„šæœ¬ | `base-style-legacy` | è°ƒç”¨ç°æœ‰çš„generateBaseStyle.js |

## ğŸ—ï¸ æ‰©å±•æ–°ç”Ÿæˆå™¨

### 1. åˆ›å»ºç”Ÿæˆå™¨ç±»

```typescript
// src/generators/my-generator.ts
import { GeneratorBase } from '../core/generator-base';

export class MyGenerator extends GeneratorBase {
  constructor() {
    super('my-tool', 'æˆ‘çš„ç”Ÿæˆå·¥å…·');
  }

  async generate(options: any): Promise<void> {
    // ä½ çš„ç”Ÿæˆé€»è¾‘
  }
}
```

### 2. æ³¨å†Œåˆ°CLI

```typescript
// src/cli.ts
program
  .command('my-tool')
  .description('æˆ‘çš„ç”Ÿæˆå·¥å…·')
  .action(async () => {
    const generator = new MyGenerator();
    await generator.generate({});
  });
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
packages/code-generator/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ core/                    # æ ¸å¿ƒåŸºç±»
â”‚   â”œâ”€â”€ generators/              # ç”Ÿæˆå™¨é›†åˆ
â”‚   â”œâ”€â”€ registry/                # ç”Ÿæˆå™¨æ³¨å†Œè¡¨
â”‚   â”œâ”€â”€ cli.ts                   # CLIå…¥å£
â”‚   â””â”€â”€ index.ts                 # ä¸»å…¥å£
â”œâ”€â”€ scripts/                     # ç°æœ‰è„šæœ¬å­˜æ”¾
â”œâ”€â”€ templates/                   # æ¨¡æ¿æ–‡ä»¶
â”œâ”€â”€ MIGRATION_GUIDE.md           # è¿ç§»æŒ‡å—
â””â”€â”€ README.md
```

## ğŸ”„ è¿ç§»ç°æœ‰å·¥å…·

æˆ‘ä»¬æä¾›äº†å®Œæ•´çš„è¿ç§»æŒ‡å—æ¥å¸®åŠ©ä½ é›†æˆç°æœ‰çš„ç”Ÿæˆå·¥å…·ï¼š

1. **å¿«é€Ÿé›†æˆ**ï¼šä½¿ç”¨è„šæœ¬åŒ…è£…å™¨ï¼Œ1å¤©å†…å®Œæˆ
2. **é€æ­¥é‡æ„**ï¼šè½¬æ¢ä¸ºTypeScriptï¼Œè·å¾—æ›´å¥½çš„ç»´æŠ¤æ€§
3. **ç»Ÿä¸€ç®¡ç†**ï¼šæ‰€æœ‰ç”Ÿæˆå·¥å…·ä½¿ç”¨åŒä¸€ä¸ªCLIå…¥å£

è¯¦ç»†æ­¥éª¤ï¼š[æŸ¥çœ‹è¿ç§»æŒ‡å—](./MIGRATION_GUIDE.md)

## ğŸ’¡ ä½¿ç”¨åœºæ™¯

- **åŸºç¡€æ ·å¼ç”Ÿæˆ**ï¼šç”Ÿæˆé¡¹ç›®é€šç”¨CSSã€SCSSæ–‡ä»¶
- **Vue3ç»„ä»¶æ¨¡æ¿**ï¼šå¿«é€Ÿåˆ›å»ºæ ‡å‡†ç»„ä»¶ç»“æ„
- **APIæ¥å£ç”Ÿæˆ**ï¼šæ ¹æ®æ¥å£æ–‡æ¡£ç”Ÿæˆè¯·æ±‚ä»£ç 
- **Mockæ•°æ®ç”Ÿæˆ**ï¼šç”Ÿæˆæµ‹è¯•ç”¨çš„æ¨¡æ‹Ÿæ•°æ®
- **è¡¨å•é…ç½®ç”Ÿæˆ**ï¼šç”ŸæˆåŠ¨æ€è¡¨å•é…ç½®
- **è·¯ç”±é…ç½®ç”Ÿæˆ**ï¼šè‡ªåŠ¨ç”Ÿæˆè·¯ç”±æ–‡ä»¶

## ğŸ¤ è´¡çŒ®

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. åˆ›å»º Pull Request

## ğŸ“ æ”¯æŒ

å¦‚æœåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼š

1. æŸ¥çœ‹ [è¿ç§»æŒ‡å—](./MIGRATION_GUIDE.md)
2. æäº¤ Issue æè¿°é—®é¢˜
3. æä¾›ç°æœ‰è„šæœ¬çš„ä»£ç ç‰‡æ®µ

æˆ‘ä»¬ä¼šå¸®åŠ©ä½ æ‰¾åˆ°æœ€é€‚åˆçš„é›†æˆæ–¹æ¡ˆï¼ 